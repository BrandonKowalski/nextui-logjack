<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Name}} - Log Jack</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: #fff;
            min-height: 100vh;
            padding: 16px;
        }
        .container { max-width: 960px; margin: 0 auto; }
        h1 { color: #9c3461; margin-bottom: 12px; font-size: 1.5em; text-align: center; }
        .toolbar {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            justify-content: center;
        }
        .toolbar a, .toolbar button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: #1a1a1a;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            color: #666;
            text-decoration: none;
        }
        .toolbar a:hover, .toolbar button:hover { background: #9c3461; color: #fff; }
        .toolbar svg { width: 22px; height: 22px; }
        .content {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-x: auto;
            max-height: calc(100vh - 180px);
            overflow-y: auto;
            color: #ccc;
        }
        @media (max-width: 600px) {
            body { padding: 12px; }
            h1 { font-size: 1.3em; }
            .toolbar a, .toolbar button { width: 40px; height: 40px; }
            .toolbar svg { width: 20px; height: 20px; }
            .content { padding: 14px; font-size: 12px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>{{.Name}}</h1>
        <div class="toolbar">
            <a href="{{.Parent}}" title="Back"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></a>
            <a href="/download{{.Path}}" title="Download"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg></a>
            <button onclick="copyContent()" title="Copy" id="copyBtn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        </div>
        <pre class="content" id="content">{{.Content}}</pre>
    </div>
    <script>
        function copyContent() {
            const text = document.getElementById('content').textContent;
            const btn = document.getElementById('copyBtn');
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
            setTimeout(() => {
                btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>';
            }, 2000);
        }
    </script>
</body>
</html>
